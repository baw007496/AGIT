<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:camel="http://camel.apache.org/schema/blueprint"
	xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.0.0"
	
	xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0
						http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
						http://camel.apache.org/schema/blueprint
						http://camel.apache.org/schema/blueprint/camel-blueprint-2.8.4.xsd
						http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.0.0
						http://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.0.0.xsd">

	<!-- OSGI blueprint property placeholder -->
    <cm:property-placeholder id="prop.placeholder" persistent-id="com.centurylink.icl.admin.activemq">
    	<cm:default-properties>
    		<cm:property name="xmlconfiguration.location" value="etc/icl/com.centurylink.icl.admin.rules.xml"/>
    		<cm:property name="serviceName" value="ActiveMQAdminService"/>
    	</cm:default-properties>
    </cm:property-placeholder>
	
	<bean id="activeMQAdminService" class="com.centurylink.icl.admin.activemq.ActiveMQAdminService" init-method="registerIclService" destroy-method="unregisterIclService">
		<argument ref="activeMQAdminServiceContext" />
		<argument ref="blueprintBundleContext" />
		<argument value="${xmlconfiguration.location}"/>
		<argument value="${serviceName}"/>
	</bean>
	
	<service id="service" ref="activeMQAdminService" interface="com.centurylink.icl.component.IRoutingGroupService">
		<service-properties>
			<entry key="name" value="${serviceName}"/>
		</service-properties>
	</service>
	
	<bean id="activeMQAdminRoute" class="com.centurylink.icl.admin.activemq.ActiveMQAdminRoute"/>


	<bean id="brokerList" class="com.centurylink.icl.admin.activemq.BrokerList">
	</bean>

	
	<camel:camelContext id="activeMQAdminServiceContext" trace="false">
		<camel:routeBuilder ref="activeMQAdminRoute"/>
	</camel:camelContext>
	
</blueprint>